<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>Add Product</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>

</head>
<body>
<h1>Créer un produit :</h1>

<form action="#" th:action="@{/addProduct}" th:object="${product}" method="post">
  <label for="reference">Reference</label>
  <input type="text" th:field="*{reference}" id="reference" placeholder="Reference">
  <span th:if="${#fields.hasErrors('reference')}" th:errors="*{reference}"></span>
  <label for="label">Label</label>
  <input type="text" th:field="*{label}" id="label" placeholder="Label">
  <span th:if="${#fields.hasErrors('label')}" th:errors="*{label}"></span>
  <label for="description">Description</label>
  <input type="text" th:field="*{description}" id="description" placeholder="Description">
  <span th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></span>
  <label for="label">Prix HT</label>
  <input type="number" th:field="*{priceExclTax}" id="priceExclTax" placeholder="Prix HT">
  <span th:if="${#fields.hasErrors('priceExclTax')}" th:errors="*{priceExclTax}"></span>
  <label for="label">Photo</label>
  <input type="text" th:field="*{picture}" id="picture" placeholder="Photo">
  <span th:if="${#fields.hasErrors('picture')}" th:errors="*{picture}"></span>
  <label for="label">Stock</label>
  <input type="number" th:field="*{stockQuantity}" id="stockQuantity" placeholder="Stock">
  <span th:if="${#fields.hasErrors('stockQuantity')}" th:errors="*{stockQuantity}"></span>
  <label for="label">Categorie</label>
  <select th:field="*{category}" required>
          <option th:each="category : ${categories}"
                  th:value="${category.id}"
                  th:text="${category.label}"></option>
  </select>
  <label for="label">TVA :</label>
  <select th:field="*{vat}" required>
    <option th:each="vat : ${vats}"
            th:value="${vat.id}"
            th:text="${vat.name}"></option>
  </select>
  <label for="label">Marque :</label>
  <select th:field="*{brand}" required>
    <option th:each="brand : ${brands}"
            th:value="${brand.id}"
            th:text="${brand.label}"></option>
  </select>




  <input type="submit" value="Ajouter un produit">
</form>

<!--
   In Thymeleaf the equivalent of
   JSP's ${pageContext.request.contextPath}/edit.html
   would be @{/edit.html}
   -->

<!--<form th:action="@{/addProduct}"
      th:object="${productForm}" method="POST">
  Référence :
  <input type="text" th:field="*{reference}" />
  <br/>
  Label :
  <input type="text" th:field="*{label}" />
  <br/>
  Description :
  <input type="text" th:field="*{description}" />
  <br/>
  Prix HT :
  <input type="number" th:field="*{priceExclTax}" />
  <br/>
  Photo :
  <input type="image" th:field="*{picture}" />
  <br/>
  Quantité en stock :
  <input type="number" th:field="*{stockQuantity}" />
  <br/>
  Categorie :
  <input type="" th:field="*{category}" />
  <br/>
  Marque :
  <input type="text" th:field="*{brand}" />
  <br/>
  TVA :
  <input type="number" th:field="*{vat}" />
  <br/>
  <input type="submit" value="Ajouter" />
</form>

<br/> -->

<!-- Check if errorMessage is not null and not empty -->

<div th:if="${errorMessage}" th:utext="${errorMessage}"
     style="color:red;font-style:italic;">
  ...
</div>

</body>
</html>